@model PopForums.Configuration.Settings

@{
    ViewBag.PageTitle = PopForums.Resources.Email;
    Layout = "~/Areas/Forums/Views/Admin/AdminMaster.cshtml";
}

@section HeaderContent {
<script language="javascript" type="text/javascript">
	$(function () {
		var useEsmtp = $("#UseEsmtp:checkbox");
		SetEsmtpBoxes();
		useEsmtp.click(function () { SetEsmtpBoxes(); });
	});

	function SetEsmtpBoxes() {
		var enabled = $("#UseEsmtp:checkbox").is(":checked");
		if (enabled)
			$("#SmtpUser, #SmtpPassword").removeAttr("disabled");
		else
			$("#SmtpUser, #SmtpPassword").attr("disabled", "disabled");
	}
</script>
}

<h2>@PopForums.Resources.Email</h2>

@using (Html.BeginForm()) {
	<div class="form-horizontal" role="form">
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.SmtpServer</label>
			<div class="col-xs-8">
				@Html.TextBoxFor(s => s.SmtpServer, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.SmtpPort</label>
			<div class="col-xs-3">
				@Html.TextBoxFor(s => s.SmtpPort, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.FromEmailAddress</label>
			<div class="col-xs-8">
				@Html.TextBoxFor(s => s.MailerAddress, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<div class="col-xs-push-4 col-xs-8">
				<div class="checkbox">
					<label>
						@Html.CheckBoxFor(m => m.UseSslSmtp) @PopForums.Resources.UseSsl
					</label>
				</div>
			</div>
		</div>
		<div class="form-group">
			<div class="col-xs-push-4 col-xs-8">
				<div class="checkbox">
					<label>
						@Html.CheckBoxFor(m => m.UseEsmtp) @PopForums.Resources.UseEsmtpCred
					</label>
				</div>
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.SmtpUser</label>
			<div class="col-xs-8">
				@Html.TextBoxFor(s => s.SmtpUser, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.SmtpPassword</label>
			<div class="col-xs-8">
				@Html.TextBoxFor(s => s.SmtpPassword, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.SendingInterval</label>
			<div class="col-xs-3">
				@Html.TextBoxFor(s => s.MailSendingInverval, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">Mailer quantity</label>
			<div class="col-xs-3">
				@Html.TextBoxFor(s => s.MailerQuantity, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-4 control-label">@PopForums.Resources.Signature</label>
			<div class="col-xs-8">
				@Html.TextAreaFor(s => s.MailSignature, new { @class = "form-control", rows = "4" })
			</div>
		</div>
		<input type="submit" value="@PopForums.Resources.Save" class="btn btn-primary" />
	</div>
}